/* ==UserStyle==
@name        Wikim V.2022 min/max-widths
@namespace   StylishThemes
@version     1.0.41
@homepageURL https://github.com/quiddity-wp/wikimedia-style-tweaks
@updateURL   https://raw.githubusercontent.com/quiddity-wp/wikimedia-style-tweaks/master/new-vector-max-width.user.css
@license     CC-BY-SA-4.0
@author      quiddity-wp
==/UserStyle== */
@-moz-document domain("wikipedia.org"),
domain("meta.wikimedia.org"),
domain("office.wikimedia.org"),
domain("commons.wikimedia.org"),
domain("species.wikimedia.org"),
domain("outreach.wikimedia.org"),
domain("wikimania.wikimedia.org"),
domain("foundation.wikimedia.org"),
domain("wikitech.wikimedia.org"),
domain("wiktionary.org"),
domain("mediawiki.org"),
domain("wikisource.org"),
domain("wikivoyage.org"),
domain("wikibooks.org"),
domain("wikinews.org"),
domain("wikiversity.org"),
domain("wikiquote.org"),
domain("wikidata.org"),
domain("beta.wmflabs.org"),
domain("wikifunctions.org"),
domain("vrt-wiki.wikimedia.org"),
domain("patchdemo.wmflabs.org") {
  /* NOTE: this assumes you are using Left-to-Right languages in NEW VECTOR ([[mw:Desktop Improvements]] beta) but also tries to work in Legacy Vector */
  
/* Remove sticky header max-width */
  .vector-sticky-header {
    max-width: none;
  }
  
/* Remove full page's max-width */
  .mw-workspace-container {
    max-width: none !important;
  }
  .mw-content-container {
    max-width: 99% !important;
  }
  .mw-page-container {
    max-width: 98%;
  }

/* Reduce sidebar width
  #mw-panel {
    padding-left: 25px; 
    max-width: 184px; 
    margin-top: -5px; 
    padding-right: 0; 
  }
  .mw-sidebar {
    width: 184px;
  } */

/* Fix sidebar into an overlay, at small widths
  @media screen and (max-width: 999px) {
    .mw-workspace-container {
      position: absolute;
      z-index: 4;
    }
  }
  @media screen and (max-width: 999px) and (min-width:550px) {
    #mw-sidebar-checkbox:checked ~ .mw-content-container {
      padding-left: 184px;
    }
  } */
  
  
/* TEST STUFF 
  #mw-panel {
    max-height: 45%;
    overflow: auto
  }
  #mw-panel-toc {
    max-height: 45% !important;
    bottom: 0 !important;
    top: unset !important;
    max-width: 184px;
  }
    */
 
  
  /* Play with grid
  @media ( min-width: 720px ) {
		.vector-layout-grid .mw-page-container-inner {
			display: grid;
			width: 100%;
			row-gap: 1px;
			grid-template-columns: 284px 15px 1fr !important;
		}
  } */
  
  
  /* OLD STUFF */
  
  /* Sidebar fixes   -- BROKEN ??? 
  #mw-sidebar-checkbox:not(:checked) ~ .mw-workspace-container .mw-content-container {
    margin-left: 0 !important;
  }
  #mw-sidebar-checkbox:checked ~ .mw-workspace-container .mw-content-container {
    margin-left: 184px !important;
  } */
  
  
  /* Fix for legacy Vector -- NOT NEEDED ???
  @media screen and (max-width: 982px) {
    #mw-panel {
      margin-left: 0; 
      margin-right: 0; 
      padding-left: 15px
    }
  } */
  
  /* Fixes for small windows -- BROKEN ??? 
  @media screen and (max-width: 720px) {
    .mw-checkbox-hack-checkbox:checked ~ .mw-workspace-container #mw-panel {
      margin-left: 12px !important; 
      position: absolute !important;
    }
    #mw-panel {
      margin-left: 0; 
      margin-right: 0;
    }
  }
  @media screen and (max-width: 999px) {
    .mw-checkbox-hack-checkbox:checked ~ .mw-workspace-container #mw-panel {
      margin-left: 12px !important; 
      position: absolute !important;
    }
    #mw-panel {
      margin-left: 0; 
      margin-right: 0;
    }
  } */
  
  /* Fix page-tab indent -- NOT NEEDED ???
  .mw-article-toolbar-container {
    margin: 0 !important; 
    max-width: none !important;
  } */
  
  /* Fix search box width at ~1000px -- BROKEN ??? 
  .mw-header .vector-search-box {
    min-width: 10em;
  } */
}
