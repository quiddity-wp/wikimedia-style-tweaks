/* ==UserStyle==
@name        wikimedia DI max-width tweaks
@namespace   StylishThemes
@version     1.0.23
@homepageURL https://github.com/quiddity-wp/wikimedia-style-tweaks
@updateURL   https://raw.githubusercontent.com/quiddity-wp/wikimedia-style-tweaks/master/new-vector-max-width.user.css
@license     CC-BY-SA-4.0
@author      quiddity-wp
==/UserStyle== */
@-moz-document domain("wikipedia.org"), 
domain("meta.wikimedia.org"), 
domain("office.wikimedia.org"), 
domain("commons.wikimedia.org"), 
domain("species.wikimedia.org"), 
domain("outreach.wikimedia.org"), 
domain("wikimania.wikimedia.org"), 
domain("foundation.wikimedia.org"), 
domain("wikitech.wikimedia.org"), 
domain("wiktionary.org"), 
domain("mediawiki.org"), 
domain("wikisource.org"), 
domain("wikivoyage.org"), 
domain("wikibooks.org"), 
domain("wikinews.org"), 
domain("wikiversity.org"), 
domain("wikiquote.org"), 
domain("wikidata.org"), 
domain("beta.wmflabs.org"), 
domain("wikifunctions.org")
{ 
/* NOTE: this assumes you are using Left-to-Right languages in NEW VECTOR ([[mw:Desktop Improvements]] beta) */

/* Remove max-width */
.mw-workspace-container {max-width: none;}
.mw-content-container {max-width: none;}

  /* Refine further */
.mw-page-container {max-width: none; padding: 1px;}
#mw-panel {padding-left: 25px; max-width: 184px; margin-top:-5px; padding-right: 0}
.mw-sidebar {width: 184px}
    
/* Sidebar fixes */
#mw-sidebar-checkbox:not(:checked) ~ .mw-workspace-container .mw-content-container {margin-left: 0 !important;}
#mw-sidebar-checkbox:checked ~ .mw-workspace-container .mw-content-container {margin-left: 184px !important;}
  
/* ToC */
.sidebar-toc {margin: 0 !important; padding-left: 20px; max-height:90vh}

/* Fixes for small windows - otherwise the sidebar jumps out */
@media screen and (max-width: 982px) {
  #mw-panel {margin-left: 0; margin-right:0; padding-left:0;}
  #mw-sidebar-checkbox:checked ~ #mw-panel {margin-left: 220px !important;}
  }

@media screen and (max-width: 720px) {
  #mw-sidebar-checkbox:checked ~ .mw-workspace-container .mw-content-container {margin-left: 0 !important;} .vector-toc-enabled #mw-panel {margin-left: 0; padding-left:0 !important; position: absolute !important}
  }

@media screen and (min-width: 720px) {
  .vector-toc-visible .mw-workspace-container .mw-content-container,  .vector-toc-visible .mw-workspace-container .mw-article-toolbar-container, .vector-toc-enabled .mw-checkbox-hack-checkbox:checked ~ .mw-workspace-container .mw-content-container, .vector-toc-enabled .mw-checkbox-hack-checkbox:checked ~ .mw-workspace-container .mw-article-toolbar-container {
  margin-left: 18.5em;
  }    
}

/* Force sticky header at smaller width */
@media screen and (min-width: 720px) {
  .vector-sticky-header {display: flex !important}
  }

/* Force ToC at smaller width   */
@media screen and (min-width: 720px) {
  .sidebar-toc {display: block !important;}
  }
  
}
